paths:
  /api/products:
      get:
        summary: Get all products.
        tags:
          - Products
        responses:
          "200":
            description: Obtaining successful products.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Products'
          "500":
            description: Internal server error, usually generated by failed connection to the DB.
  /api/products?{limit=10}&{page=1}&{query=1}&{query=guitarras}&{sort=asc}:
      get:
        summary: Obtaining filtered, ordered an limlited products.
        tags:
          - Products
        parameters:
        - in: query
          name: limit
          type: string
          required: false
          description: Limit of profucts you want to get.
        - in: query
          name: page
          type: string
          required: false
          description: Get the products found on that page.
        - in: query
          name: query
          type: string
          required: false
          description: Obtains the products with greater stock equal to the number chosen or by category.
        - in: query
          name: sort
          type: string
          required: false
          description: Get the products ascending (asc) or descending (desc).
        responses:
          "200":
            description: Obtaining successful products.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Products'
          "400":
            description: The product was not found in the dataBase, probably an error of the id entered through the query.              
          "500":
            description: Internal server error, usually generated by failed connection to the DB.
  /api/products/{id}:
      get:
        summary: Get a product for your id.
        tags:
          - Products
        parameters:
        - in: path
          name: Product Id
          type: string
          required: true
          description: Get a product for you Id.
        responses:
          "200":
            description: Obtaining successful products.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Products'
          "400":
            description: The product was not found in the dataBase, probably an error of the id entered through the query.              
          "500":
            description: Internal server error, usually generated by failed connection to the DB.

components:
  schemas:
    Products:
      type: object
      properties:
        data:
          type: object
          properties:
            docs:
              type: array
              items:
                $ref: '#/components/schemas/Product'
            totalDocs:
              type: integer
            limit:
              type: integer
            totalPages:
              type: integer
            page:
              type: integer
            pagingCounter:
              type: integer
            hasPrevPage:
              type: boolean
            hasNextPage:
              type: boolean
            prevPage:
              type: integer
            nextPage:
              type: integer
            prevLink:
              type: null
            nextLink:
              type: null
      example:
        data:
          docs:
            - _id: "64cfc8923e4d0d4a66ff0c8c"
              title: "Flauta Dulce"
              description: "Soprano Do Escolar"
              code: "Yrs23"
              price: 5142
              stock: 85
              category: "wind"
              thumbnails: []
              status: true
              owner: "64cfc8793e4d0d4a66ff0c87"
              __v: 0
              id: "64cfc8923e4d0d4a66ff0c8c"
          totalDocs: 1
          limit: 10
          totalPages: 1
          page: 1
          pagingCounter: 1
          hasPrevPage: false
          hasNextPage: false
          prevPage: null
          nextPage: null
          prevLink: null
          nextLink: null
    Product:
      type: object
      properties:
        _id:
          type: string
        title:
          type: string
        description:
          type: string
        code:
          type: string
        price:
          type: number
        stock:
          type: integer
        category:
          type: string
        thumbnails:
          type: array
          items:
            type: string
        status:
          type: boolean
        owner:
          type: string
        __v:
          type: number
      example:
        _id: "64cfc8923e4d0d4a66ff0c8c"
        title: "Flauta Dulce"
        description: "Soprano Do Escolar"
        code: "Yrs23"
        price: 5142
        stock: 85
        category: "wind"
        thumbnails: []
        status: true
        owner: "64cfc8793e4d0d4a66ff0c87"
        __v: 0